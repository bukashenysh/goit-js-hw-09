{"version":3,"sources":["js/03-promises.js"],"names":["refs","form","document","querySelector","onFormSubmit","e","preventDefault","delay","value","step","amount","position","createPromise","then","console","log","catch","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener"],"mappings":";;;AAuCC,aAvCD,QAAA,qBAEA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,UAK/B,SAASC,EAAaC,GACpBA,EAAEC,iBACEC,IAAAA,GAASP,EAAKC,KAAKM,MAAMC,MACzBC,GAAQT,EAAKC,KAAKQ,KAAKD,MACvBE,GAAUV,EAAKC,KAAKS,OAAOF,MAG1B,IAAA,IAAIG,EAAW,EAAGA,GAAYD,EAAQC,GAAY,EACrDC,EAAcD,EAAUJ,GACrBM,KAAK,EAAGF,SAAAA,EAAUJ,MAAAA,MACjBO,QAAQC,2BAA2BJ,QAAeJ,SAEnDS,MAAM,EAAGL,SAAAA,EAAUJ,MAAAA,MAClBO,QAAQC,0BAA0BJ,QAAeJ,SAGrDA,GAASE,EAIb,SAASG,EAAcD,EAAUJ,GACxB,OAAA,IAAIU,QAAQ,CAACC,EAASC,KACrBC,MAAAA,EAAgBC,KAAKC,SAAW,GACtCC,WAAW,KACLH,EACFF,EAAQ,CAACP,SAAAA,EAAUJ,MAAAA,IAEnBY,EAAO,CAACR,SAAAA,EAAUJ,MAAAA,KAEnBA,KA/BPP,EAAKC,KAAKuB,iBAAiB,SAAUpB","file":"03-promises.d18e8533.js","sourceRoot":"../src","sourcesContent":["import '../css/common.css';\n\nconst refs = {\n  form: document.querySelector('.form')\n}\n\nrefs.form.addEventListener('submit', onFormSubmit)\n\nfunction onFormSubmit(e) {  \n  e.preventDefault();\n  let delay = +refs.form.delay.value;\n  let step = +refs.form.step.value;\n  let amount = +refs.form.amount.value;\n\n\n  for (let position = 1; position <= amount; position += 1) {   \n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`)\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`)\n      });\n      \n    delay += step;\n  }\n} \n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {    \n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);   \n  })  \n}"]}